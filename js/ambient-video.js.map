{"version":3,"sources":["ambient-video.js"],"names":["ambient_video","$av","$","length","$sources","find","window","matchMedia","matches","attr","play","$control","show","click","$button","e","currentTarget","video","siblings","toggleClass","paused","data","pause","stop"],"mappings":";;AAAA;;;;AAIA,IAAMA,gBAAgB,SAAhBA,aAAgB,GAAM;AAC1B,MAAMC,MAAMC,EAAE,sBAAF,CAAZ;AACA,MAAID,IAAIE,MAAJ,GAAa,CAAjB,EAAoB,OAFM,CAEE;;AAE5B,MAAMC,WAAWH,IAAII,IAAJ,CAAS,QAAT,CAAjB;;AAEA,MAAIC,OAAOC,UAAP,CAAkB,oBAAlB,EAAwCC,OAA5C,EAAqD;AACnDP,QAAIQ,IAAJ,CAAS,UAAT,EAAqB,IAArB;AACAR,QAAI,CAAJ,EAAOS,IAAP;;AAEA;AACA,QAAMC,WAAWT,EAAE,uBAAF,CAAjB;AACAS,aAASC,IAAT;AACAD,aAASE,KAAT,CAAgB,aAAK;AACnB,UAAMC,UAAUZ,EAAEa,EAAEC,aAAJ,CAAhB;AACA,UAAMC,QAAQH,QAAQI,QAAR,CAAiB,OAAjB,EAA0B,CAA1B,CAAd;AACAJ,cAAQK,WAAR,CAAoB,sBAApB;AACA,UAAIF,MAAMG,MAAV,EAAkB;AAChBH,cAAMP,IAAN;AACAI,gBAAQL,IAAR,CAAa,YAAb,EAA2BK,QAAQO,IAAR,CAAa,eAAb,CAA3B;AACD,OAHD,MAGO;AACLJ,cAAMK,KAAN;AACAR,gBAAQL,IAAR,CAAa,YAAb,EAA2BK,QAAQO,IAAR,CAAa,iBAAb,CAA3B;AACD;AACF,KAXD;AAYD,GAnBD,MAmBO;AACLpB,QAAI,CAAJ,EAAOsB,IAAP;AACD;AACF,CA5BD","file":"ambient-video.js","sourcesContent":["/* \n * Ambient video processing and initialization. \n */\n\nconst ambient_video = () => {\n  const $av = $('.ambient-video video');\n  if ($av.length < 1) return; // Bail if we have no matching components\n    \n  const $sources = $av.find('source');\n\n  if (window.matchMedia('(min-width: 64rem)').matches) {\n    $av.attr('autoplay', true);\n    $av[0].play();\n\n    // Since the video is working, enable the play / pause control\n    const $control = $('.ambient-video button');\n    $control.show();\n    $control.click( e => {\n      const $button = $(e.currentTarget);\n      const video = $button.siblings('video')[0];\n      $button.toggleClass('video-button--paused');\n      if (video.paused) {\n        video.play();\n        $button.attr('aria-label', $button.data('pressed-label'));\n      } else {\n        video.pause();\n        $button.attr('aria-label', $button.data('unpressed-label'));\n      }\n    });\n  } else {\n    $av[0].stop();\n  }\n};\n"]}